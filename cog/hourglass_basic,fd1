ON ERROR ERROR EXT ERR, REPORT$+" at line "+STR$ERL
:
COLOUR 128+7:CLS:COLOUR0
:
width% = 32
height% = 32
active_x% = 16
active_y% = 16
period% = 3
wordsperrow% = 2
nwords% = 472
DIM rowdata% 4 * nwords%
RESTORE +1
DATA &00000000, &00000000
DATA &58000000, &00000005
DATA &58000000, &00000025
DATA &5400a000, &00098025
DATA &54095400, &00256015
DATA &55a55600, &00955695
DATA &55555600, &00955555
DATA &55555400, &00255555
DATA &55555800, &00055555
DATA &29556000, &00095558
DATA &00956000, &00015580
DATA &00155000, &00095600
DATA &002555a8, &0a555400
DATA &00255554, &25555800
DATA &00055554, &15555800
DATA &001556a0, &02a55400
DATA &00956000, &00095600
DATA &02556000, &00015580
DATA &a5555000, &0009555a
DATA &55555800, &00255555
DATA &55555600, &00155555
DATA &55555500, &00955555
DATA &56255600, &00955895
DATA &54025800, &00256025
DATA &5400a000, &000a0025
DATA &60000000, &00000009
DATA &40000000, &00000095
DATA &60000000, &00000095
DATA &60028000, &00000095
DATA &50095000, &00000095
DATA &58255400, &00260095
DATA &55555400, &00956255
DATA &55555800, &02555555
DATA &55556000, &00555555
DATA &55556000, &00955555
DATA &29554000, &00255558
DATA &00956000, &00095580
DATA &00955568, &00095600
DATA &00255554, &00055400
DATA &00255554, &0a555800
DATA &00055554, &25555800
DATA &00255558, &15555800
DATA &00255680, &25555800
DATA &00155000, &25555600
DATA &00956000, &0aa95600
DATA &02555800, &00015580
DATA &a5555400, &00025556
DATA &55555600, &00015555
DATA &55555580, &00095555
DATA &55655580, &00255555
DATA &55025600, &002555a5
DATA &55002800, &00255805
DATA &55000000, &00096009
DATA &56000000, &00008009
DATA &56000000, &00000001
DATA &5a000000, &00000002
DATA &00000000, &00000295
DATA &80020000, &00000255
DATA &80258000, &00000255
DATA &40955000, &00000255
DATA &62555000, &00000255
DATA &55556000, &00960255
DATA &55554000, &02556955
DATA &55558000, &01555555
DATA &55558000, &02555555
DATA &29554000, &00955558
DATA &00555558, &00255580
DATA &00955558, &00055600
DATA &00055554, &00255800
DATA &00055558, &02555800
DATA &00255800, &25555800
DATA &00255000, &25555600
DATA &00955800, &25555500
DATA &02555600, &0aa95580
DATA &a5555580, &00025556
DATA &55555560, &00025555
DATA &55555540, &00025555
DATA &55625580, &00015555
DATA &55402a00, &00095565
DATA &55400000, &00055581
DATA &55400000, &00095402
DATA &55400000, &00009002
DATA &55800000, &00000000
DATA &aa000000, &00000000
DATA &00000000, &00000298
DATA &002a0000, &00000954
DATA &00958000, &00000956
DATA &02554000, &00000955
DATA &a9554000, &00000955
DATA &55558000, &00800955
DATA &55550000, &025a0955
DATA &55560000, &01555555
DATA &55550000, &09555555
DATA &a9556550, &09555560
DATA &00555558, &02555580
DATA &00955558, &00955600
DATA &00255554, &00055800
DATA &00055568, &00055800
DATA &00255680, &00255800
DATA &00255800, &02555800
DATA &00255000, &25555800
DATA &00255800, &25555400
DATA &00955600, &25555500
DATA &02555540, &05555580
DATA &a5555560, &0aaa555a
DATA &55555560, &00009555
DATA &555a5540, &00009555
DATA &55602980, &00005555
DATA &55600000, &00025555
DATA &55600000, &00025560
DATA &95500000, &00015580
DATA &15500000, &00009600
DATA &25600000, &00002800
DATA &0a000000, &00000000
DATA &00800000, &000002a0
DATA &025a0000, &00002560
DATA &01550000, &00001558
DATA &09550000, &00002554
DATA &a5560000, &00002556
DATA &55560000, &00002555
DATA &55540000, &00002555
DATA &55560000, &015a9555
DATA &5555a560, &09555555
DATA &a9555550, &05555560
DATA &02555558, &05555580
DATA &00955558, &02555600
DATA &00255560, &00955800
DATA &00255600, &00255800
DATA &00255800, &00055800
DATA &00255800, &00255800
DATA &00255580, &09555400
DATA &00955560, &25555500
DATA &a9555550, &0955555a
DATA &55555560, &0aa89555
DATA &55580a80, &00001555
DATA &55580000, &00001555
DATA &55580000, &00009555
DATA &95580000, &00009558
DATA &25540000, &00005560
DATA &05540000, &00009540
DATA &09580000, &00002980
DATA &02000000, &00000000
DATA &02800000, &00000200
DATA &09580000, &00002580
DATA &15540000, &00009550
DATA &95580000, &0000955a
DATA &5556a540, &00001555
DATA &55555560, &095a5555
DATA &09555550, &0555556a
DATA &02555550, &25555580
DATA &00955580, &25555600
DATA &00255600, &09555800
DATA &00255800, &00955800
DATA &00255580, &00255800
DATA &00255558, &00955800
DATA &00955558, &09555600
DATA &02555558, &05555540
DATA &a9555550, &0555555a
DATA &55562aa0, &09555555
DATA &55540000, &02a82555
DATA &25560000, &00002556
DATA &09550000, &00002558
DATA &02560000, &00001550
DATA &00a80000, &00002960
DATA &00000000, &00000080
DATA &25800000, &00000000
DATA &15500000, &00002400
DATA &95500000, &00025500
DATA &55600000, &00015580
DATA &55600000, &0002556a
DATA &55600200, &00025555
DATA &5550a580, &00005555
DATA &55555540, &00009555
DATA &55555560, &00005555
DATA &09555560, &0559556a
DATA &02555580, &25555580
DATA &00155600, &25555600
DATA &00255000, &09555800
DATA &00255558, &00055800
DATA &00155554, &00255400
DATA &02555558, &02555540
DATA &a555aaa0, &0955555a
DATA &55550000, &0255a555
DATA &55558000, &00a80955
DATA &55558000, &00000955
DATA &81554000, &00000955
DATA &02554000, &00000956
DATA &00280000, &00000954
DATA &00000000, &000000a8
DATA &95800000, &00000000
DATA &55800000, &00002000
DATA &55800000, &00025802
DATA &55800000, &00095601
DATA &55800800, &00055589
DATA &5540a600, &00095555
DATA &55695580, &00015555
DATA &09555500, &00025568
DATA &02555400, &25555500
DATA &00255000, &25555400
DATA &00255800, &15555800
DATA &002555a0, &25555800
DATA &00055558, &02955800
DATA &00155558, &00055400
DATA &00955558, &00255600
DATA &02556aa0, &00955560
DATA &95558000, &0255555a
DATA &55554000, &01555555
DATA &55556000, &02558955
DATA &59556000, &00a80255
DATA &80256000, &00000255
DATA &800a8000, &00000255
DATA &00000000, &00000255
DATA &00000000, &000000aa
DATA &80000000, &00000000
DATA &56000000, &00000009
DATA &56000000, &00028009
DATA &56000000, &00096005
DATA &55009400, &00255625
DATA &55895600, &00255555
DATA &55555580, &00055555
DATA &29555800, &00025568
DATA &02556000, &00095500
DATA &00156000, &29555600
DATA &00155800, &25555400
DATA &002555a0, &15555800
DATA &00255554, &15555000
DATA &00255554, &02955800
DATA &00955aa0, &00095600
DATA &02554000, &000555a0
DATA &95554000, &0015555a
DATA &55555000, &02555555
DATA &55555800, &02555955
DATA &5a955400, &00958055
DATA &50255800, &00280095
DATA &60096000, &00000095
DATA &80000000, &0000002a
FOR n% = 0 TO nwords%-1
  READ word%:rowdata%!(4 * n%) = word%
NEXT
:
nframes% = 9
DIM framedata% 8 * nframes%
:
DIM deltas% 8*280

deltaoffset% = 0
RESTORE +1
FOR frame% = 0 TO nframes%-1
 framedata%!(frame% * 4) = deltaoffset%
 REPEAT
  READ rownumber%, rowindex%
  deltas%!(deltaoffset%) = rownumber%
  deltas%!(deltaoffset%+4) = rowindex%
  deltaoffset% += 8
 UNTIL rownumber% = -1
NEXT
:
REM Image 0
DATA 0, 0
DATA 1, 1
DATA 2, 2
DATA 3, 2
DATA 4, 3
DATA 5, 4
DATA 6, 5
DATA 7, 6
DATA 8, 7
DATA 9, 8
DATA 10, 9
DATA 11, 10
DATA 12, 11
DATA 13, 12
DATA 14, 13
DATA 15, 14
DATA 16, 14
DATA 17, 13
DATA 18, 15
DATA 19, 16
DATA 20, 17
DATA 21, 18
DATA 22, 19
DATA 23, 20
DATA 24, 21
DATA 25, 22
DATA 26, 23
DATA 27, 24
DATA 28, 2
DATA 29, 1
DATA 30, 25
DATA 31, 0
DATA -1, -1
REM Image 1
DATA 1, 26
DATA 2, 27
DATA 3, 28
DATA 4, 29
DATA 5, 30
DATA 6, 31
DATA 7, 32
DATA 8, 33
DATA 9, 34
DATA 10, 35
DATA 11, 36
DATA 12, 37
DATA 13, 38
DATA 14, 39
DATA 15, 40
DATA 16, 41
DATA 17, 42
DATA 18, 43
DATA 19, 44
DATA 20, 45
DATA 21, 46
DATA 22, 47
DATA 23, 48
DATA 24, 49
DATA 25, 50
DATA 26, 51
DATA 27, 52
DATA 28, 53
DATA 29, 54
DATA 30, 55
DATA -1, -1
REM Image 2
DATA 1, 56
DATA 2, 57
DATA 3, 58
DATA 4, 59
DATA 5, 60
DATA 6, 61
DATA 7, 62
DATA 8, 63
DATA 9, 64
DATA 10, 65
DATA 11, 66
DATA 12, 67
DATA 14, 68
DATA 15, 69
DATA 16, 42
DATA 17, 70
DATA 18, 71
DATA 19, 72
DATA 20, 73
DATA 21, 74
DATA 22, 75
DATA 23, 76
DATA 24, 77
DATA 25, 78
DATA 26, 79
DATA 27, 80
DATA 28, 81
DATA 29, 82
DATA 30, 83
DATA -1, -1
REM Image 3
DATA 1, 84
DATA 2, 85
DATA 3, 86
DATA 4, 87
DATA 5, 88
DATA 6, 89
DATA 7, 90
DATA 8, 91
DATA 9, 92
DATA 10, 93
DATA 11, 94
DATA 12, 95
DATA 13, 96
DATA 14, 97
DATA 15, 98
DATA 16, 99
DATA 17, 100
DATA 18, 101
DATA 19, 102
DATA 20, 103
DATA 21, 104
DATA 22, 105
DATA 23, 106
DATA 24, 107
DATA 25, 108
DATA 26, 109
DATA 27, 110
DATA 28, 111
DATA 29, 112
DATA 30, 113
DATA -1, -1
REM Image 4
DATA 1, 114
DATA 2, 115
DATA 3, 116
DATA 4, 117
DATA 5, 118
DATA 6, 119
DATA 7, 120
DATA 8, 121
DATA 9, 122
DATA 10, 123
DATA 11, 124
DATA 12, 125
DATA 13, 126
DATA 14, 127
DATA 15, 128
DATA 16, 129
DATA 17, 99
DATA 18, 130
DATA 19, 131
DATA 20, 124
DATA 21, 132
DATA 22, 133
DATA 23, 134
DATA 24, 135
DATA 25, 136
DATA 26, 137
DATA 27, 138
DATA 28, 139
DATA 29, 140
DATA 30, 141
DATA -1, -1
REM Image 5
DATA 1, 142
DATA 2, 143
DATA 3, 138
DATA 4, 144
DATA 5, 145
DATA 6, 136
DATA 7, 135
DATA 8, 146
DATA 9, 147
DATA 10, 148
DATA 11, 149
DATA 12, 150
DATA 13, 151
DATA 14, 152
DATA 15, 129
DATA 16, 128
DATA 17, 153
DATA 18, 154
DATA 19, 155
DATA 20, 156
DATA 21, 157
DATA 22, 158
DATA 23, 159
DATA 24, 119
DATA 25, 119
DATA 26, 160
DATA 27, 161
DATA 28, 162
DATA 29, 163
DATA 30, 164
DATA -1, -1
REM Image 6
DATA 1, 165
DATA 2, 166
DATA 3, 167
DATA 4, 168
DATA 5, 169
DATA 6, 170
DATA 7, 171
DATA 8, 172
DATA 9, 173
DATA 10, 174
DATA 11, 175
DATA 12, 176
DATA 13, 70
DATA 14, 177
DATA 15, 152
DATA 16, 153
DATA 17, 178
DATA 18, 179
DATA 19, 95
DATA 20, 180
DATA 21, 181
DATA 22, 92
DATA 23, 182
DATA 24, 183
DATA 25, 184
DATA 26, 185
DATA 27, 186
DATA 28, 86
DATA 29, 187
DATA 30, 188
DATA -1, -1
REM Image 7
DATA 1, 189
DATA 2, 190
DATA 3, 191
DATA 4, 192
DATA 5, 193
DATA 6, 194
DATA 7, 195
DATA 8, 76
DATA 9, 76
DATA 10, 196
DATA 11, 197
DATA 12, 43
DATA 13, 198
DATA 14, 199
DATA 15, 200
DATA 16, 201
DATA 17, 96
DATA 18, 202
DATA 19, 203
DATA 20, 204
DATA 21, 205
DATA 22, 63
DATA 23, 206
DATA 24, 207
DATA 25, 208
DATA 26, 59
DATA 27, 209
DATA 28, 210
DATA 29, 211
DATA 30, 212
DATA -1, -1
REM Image 8
DATA 0, 213
DATA 1, 54
DATA 2, 214
DATA 3, 215
DATA 4, 216
DATA 5, 217
DATA 6, 218
DATA 7, 219
DATA 8, 48
DATA 9, 47
DATA 10, 220
DATA 11, 221
DATA 12, 222
DATA 13, 223
DATA 14, 224
DATA 15, 225
DATA 16, 40
DATA 17, 226
DATA 19, 227
DATA 20, 228
DATA 21, 229
DATA 22, 34
DATA 23, 230
DATA 24, 231
DATA 25, 232
DATA 26, 233
DATA 27, 234
DATA 28, 27
DATA 29, 27
DATA 30, 235
DATA -1, -1
:
DIM worddata% 10
DIM pointerdata% 4 * wordsperrow% * height%
worddata%?0 = 0:REM Define pointer shape
worddata%?1 = 1:REM Shape number
worddata%?2 = (width%*2+7)/8:REM Width in bytes
worddata%?3 = height%:REM Height in rows
worddata%?4 = active_x%
worddata%?5 = active_y%
worddata%!6 = pointerdata%
:
RESTORE + 1
FOR col% = 0 TO 3
 READ colr%,colg%,colb%
 VDU 19, col%, 25, colr%, colg%, colb%
NEXT
DATA 192, 192, 192
DATA 0, 153, 14
DATA 192, 192, 192
DATA 0, 0, 0
:
SYS "OS_Byte", 106, 1
:
framenum%=0
WHILE TRUE
 frame_deltas% = deltas% + framedata%!(framenum% * 4)
 PRINT "Frame ";framenum%
 REPEAT
  rownumber%=frame_deltas%!0:frame_deltas%+=4
  rowindex%=frame_deltas%!0:frame_deltas%+=4
  IF rownumber% <> -1 THEN
   FORoffset%=0TOwordsperrow%*4-4 STEP 4
    pointerdata%!(rownumber% * 4 * wordsperrow% + offset%) = rowdata%!(4 * wordsperrow% * rowindex% + offset%)
   NEXT
  ENDIF
 UNTIL rownumber%=-1
 SYS "OS_Word",21, worddata%
 framenum% = (framenum% + 1) MOD nframes%
  I=INKEY(period%)
ENDWHILE
