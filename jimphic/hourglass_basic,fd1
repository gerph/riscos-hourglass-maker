ON ERROR ERROR EXT ERR, REPORT$+" at line "+STR$ERL
:
COLOUR 128+7:CLS:COLOUR0
:
width% = 32
height% = 32
active_x% = 16
active_y% = 16
period% = 8
wordsperrow% = 2
nwords% = 342
DIM rowdata% 4 * nwords%
RESTORE +1
DATA &00000000, &00000000
DATA &00000000, &00000055
DATA &00000000, &00001555
DATA &00015000, &00054555
DATA &00015400, &00155555
DATA &00055500, &00555155
DATA &fc155500, &00555440
DATA &ff555500, &00555400
DATA &ff055450, &05155000
DATA &ff014550, &05514000
DATA &fc001550, &05540000
DATA &f4005554, &15550000
DATA &00001554, &15540000
DATA &00005554, &15550000
DATA &00001550, &05540000
DATA &00014550, &05514000
DATA &00055450, &05155000
DATA &00155500, &00555400
DATA &01155500, &00555440
DATA &55455500, &00555155
DATA &55515400, &00155555
DATA &55515000, &00054555
DATA &55540000, &00001555
DATA &55000000, &00000055
DATA &00000000, &00054555
DATA &00000000, &00155555
DATA &00000000, &00555155
DATA &fc000000, &00555440
DATA &ffc00000, &00555400
DATA &fff00050, &05155000
DATA &fffc0550, &05514000
DATA &ffff1550, &05540000
DATA &fffc5554, &15550000
DATA &1fc01554, &15540000
DATA &01001554, &15540000
DATA &fff00000, &05155000
DATA &fffc0000, &05514000
DATA &ffff0000, &05540000
DATA &ffff0000, &15550000
DATA &1fffc000, &15540000
DATA &07ffc000, &15540000
DATA &03ffc000, &15540000
DATA &01ffc000, &15540000
DATA &001f0000, &15550000
DATA &00010000, &05540000
DATA &00014000, &05514000
DATA &00055400, &05155000
DATA &1fff0000, &15550000
DATA &0fff0000, &05540000
DATA &03fc0000, &05514000
DATA &03f00000, &05155000
DATA &00c00000, &00555400
DATA &01000000, &00555440
DATA &55400000, &00555155
DATA &55500000, &00155555
DATA &55500000, &00054555
DATA &ffff0000, &1555001f
DATA &ffff0000, &0554003f
DATA &fffc0000, &055140ff
DATA &fff00000, &051550ff
DATA &ffc00000, &005555ff
DATA &f4000000, &0055541f
DATA &00000000, &00555000
DATA &00000000, &00154000
DATA &00000000, &00054000
DATA &07ffc000, &15540050
DATA &1fffc000, &155403f4
DATA &ffff0000, &15553fff
DATA &ffff0000, &0554ffff
DATA &fffc0000, &05503fff
DATA &fff00000, &05000fff
DATA &ffc00000, &000003ff
DATA &fc000000, &0000003f
DATA &03ffc000, &15550000
DATA &03ffc000, &0003ffc0
DATA &07ffc000, &0003ffd0
DATA &1fffc000, &0003fff4
DATA &ffff0000, &0000ffff
DATA &fffc0000, &00003fff
DATA &fff00000, &00000fff
DATA &f4000000, &0000001f
DATA &fff00000, &00155000
DATA &fffc0000, &00014000
DATA &ffff0000, &00004000
DATA &ffff0000, &0000f400
DATA &1fffc000, &0003ff40
DATA &07ffc000, &0003ffc0
DATA &00000000, &00000555
DATA &00000000, &00000155
DATA &fc000000, &00000040
DATA &ffc00000, &00000300
DATA &fff00000, &00000fc0
DATA &fffc0000, &00003fc0
DATA &ffff0000, &0000fff0
DATA &ffff0000, &0000fff4
DATA &55000000, &00000000
DATA &55540000, &00000000
DATA &55500000, &00000000
DATA &55400000, &00000000
DATA &41000000, &0000003f
DATA &00c00000, &000003ff
DATA &03f00000, &00000fff
DATA &03fc0000, &00003fff
DATA &0fff0000, &0000ffff
DATA &1fff0000, &0000ffff
DATA &0fffc000, &0003fff4
DATA &55515000, &00000000
DATA &55555400, &00000000
DATA &55455500, &00000000
DATA &41155500, &0000003f
DATA &00155500, &000003ff
DATA &00055000, &00000fff
DATA &00014000, &00003fff
DATA &00010000, &0000ffff
DATA &003f0000, &0000ffff
DATA &01ffc000, &0003fff4
DATA &03ffc000, &0003ffd0
DATA &00055450, &00000fff
DATA &00014550, &00003fff
DATA &00001550, &0000ffff
DATA &00005554, &0000ffff
DATA &00001554, &0003fff4
DATA &00001554, &0003ffd0
DATA &00005554, &0003ffc0
DATA &00001554, &0003ffc0
DATA &05001554, &0003ffd0
DATA &1fc01554, &0003fff4
DATA &fffc5554, &0000ffff
DATA &ffff1550, &0000ffff
DATA &fffc0550, &00003fff
DATA &fff00050, &00000fff
DATA &f4005554, &0000ffff
DATA &fc001550, &0000ffff
DATA &ff014550, &00003fff
DATA &ff055450, &00000fff
DATA &ff555500, &000003ff
DATA &fc155500, &0000003f
DATA &00055500, &00000000
DATA &00015400, &00000000
DATA &00015000, &00000000
DATA &00005554, &0000fff4
DATA &00001550, &0000fff0
DATA &00014550, &00003fc0
DATA &00055450, &00000fc0
DATA &00155500, &00000300
DATA &01155500, &00000040
DATA &55455500, &00000155
DATA &55555400, &00000555
DATA &55515000, &00000555
DATA &00001554, &0003ff40
DATA &00005554, &0000f400
DATA &00001550, &00004000
DATA &00014550, &00014000
DATA &00055450, &00155000
DATA &55555400, &00155555
DATA &00001554, &15550000
DATA &00055450, &05000fff
DATA &00014550, &05503fff
DATA &00001550, &0554ffff
DATA &00005554, &15553fff
DATA &00001554, &155403f4
DATA &00001554, &15540050
DATA &55515000, &00054000
DATA &55555400, &00154000
DATA &55455500, &00555000
DATA &41155500, &0055543f
DATA &00155500, &005555ff
DATA &00055450, &051550ff
DATA &00014550, &055140ff
DATA &00001550, &0554003f
DATA &00005554, &1555001f
FOR n% = 0 TO nwords%-1
  READ word%:rowdata%!(4 * n%) = word%
NEXT
:
nframes% = 24
DIM framedata% 8 * nframes%
:
DIM deltas% 8*293

deltaoffset% = 0
RESTORE +1
FOR frame% = 0 TO nframes%-1
 framedata%!(frame% * 4) = deltaoffset%
 REPEAT
  READ rownumber%, rowindex%
  deltas%!(deltaoffset%) = rownumber%
  deltas%!(deltaoffset%+4) = rowindex%
  deltaoffset% += 8
 UNTIL rownumber% = -1
NEXT
:
REM Image 0
DATA 0, 0
DATA 1, 1
DATA 2, 2
DATA 3, 2
DATA 4, 3
DATA 5, 4
DATA 6, 5
DATA 7, 6
DATA 8, 7
DATA 9, 8
DATA 10, 9
DATA 11, 10
DATA 12, 11
DATA 13, 12
DATA 14, 12
DATA 15, 12
DATA 16, 12
DATA 17, 12
DATA 18, 12
DATA 19, 13
DATA 20, 14
DATA 21, 15
DATA 22, 16
DATA 23, 17
DATA 24, 18
DATA 25, 19
DATA 26, 20
DATA 27, 21
DATA 28, 22
DATA 29, 22
DATA 30, 23
DATA 31, 0
DATA -1, -1
REM Image 1
DATA 4, 24
DATA 5, 25
DATA 6, 26
DATA 7, 27
DATA 8, 28
DATA 9, 29
DATA 10, 30
DATA 11, 31
DATA 12, 32
DATA 13, 33
DATA 14, 34
DATA -1, -1
REM Image 2
DATA 9, 35
DATA 10, 36
DATA 11, 37
DATA 12, 38
DATA 13, 39
DATA 14, 40
DATA 15, 41
DATA -1, -1
REM Image 3
DATA 16, 41
DATA 17, 41
DATA 18, 42
DATA 19, 43
DATA 20, 44
DATA 21, 45
DATA 22, 46
DATA -1, -1
REM Image 4
DATA 17, 40
DATA 18, 39
DATA 19, 47
DATA 20, 48
DATA 21, 49
DATA 22, 50
DATA 23, 51
DATA 24, 52
DATA 25, 53
DATA 26, 54
DATA 27, 55
DATA -1, -1
REM Image 5
DATA 19, 38
DATA 20, 37
DATA 21, 36
DATA 22, 35
DATA 23, 28
DATA 24, 27
DATA 25, 26
DATA 26, 25
DATA 27, 24
DATA 28, 2
DATA 29, 2
DATA 30, 1
DATA -1, -1
REM Image 6
DATA 19, 56
DATA 20, 57
DATA 21, 58
DATA 22, 59
DATA 23, 60
DATA 24, 61
DATA 25, 62
DATA 26, 63
DATA 27, 64
DATA 28, 0
DATA 29, 0
DATA 30, 0
DATA -1, -1
REM Image 7
DATA 17, 65
DATA 18, 66
DATA 19, 67
DATA 20, 68
DATA 21, 69
DATA 22, 70
DATA 23, 71
DATA 24, 72
DATA 25, 0
DATA 26, 0
DATA 27, 0
DATA -1, -1
REM Image 8
DATA 15, 73
DATA 16, 74
DATA 17, 75
DATA 18, 76
DATA 19, 77
DATA 20, 77
DATA 21, 78
DATA 22, 79
DATA 24, 80
DATA -1, -1
REM Image 9
DATA 9, 81
DATA 10, 82
DATA 11, 83
DATA 12, 84
DATA 13, 85
DATA 14, 86
DATA 15, 74
DATA 24, 72
DATA -1, -1
REM Image 10
DATA 4, 87
DATA 5, 87
DATA 6, 88
DATA 7, 89
DATA 8, 90
DATA 9, 91
DATA 10, 92
DATA 11, 93
DATA 12, 94
DATA 13, 76
DATA 14, 75
DATA 24, 80
DATA -1, -1
REM Image 11
DATA 1, 0
DATA 2, 0
DATA 3, 0
DATA 4, 0
DATA 5, 0
DATA 6, 0
DATA 7, 72
DATA 8, 71
DATA 9, 79
DATA 10, 78
DATA 11, 77
DATA 12, 77
DATA 24, 72
DATA -1, -1
REM Image 12
DATA 1, 95
DATA 2, 96
DATA 3, 96
DATA 4, 97
DATA 5, 97
DATA 6, 98
DATA 7, 99
DATA 8, 100
DATA 9, 101
DATA 10, 102
DATA 11, 103
DATA 12, 104
DATA 13, 105
DATA 24, 80
DATA -1, -1
REM Image 13
DATA 4, 106
DATA 5, 107
DATA 6, 108
DATA 7, 109
DATA 8, 110
DATA 9, 111
DATA 10, 112
DATA 11, 113
DATA 12, 114
DATA 13, 115
DATA 14, 116
DATA -1, -1
REM Image 14
DATA 9, 117
DATA 10, 118
DATA 11, 119
DATA 12, 120
DATA 13, 121
DATA 14, 122
DATA 15, 123
DATA -1, -1
REM Image 15
DATA 15, 124
DATA 16, 124
DATA 17, 125
DATA 18, 126
DATA 19, 127
DATA 20, 128
DATA 21, 129
DATA 22, 130
DATA -1, -1
REM Image 16
DATA 17, 122
DATA 18, 121
DATA 19, 131
DATA 20, 132
DATA 21, 133
DATA 22, 134
DATA 23, 135
DATA 24, 136
DATA 25, 137
DATA 26, 138
DATA 27, 139
DATA -1, -1
REM Image 17
DATA 19, 120
DATA 20, 119
DATA 21, 118
DATA 22, 117
DATA 23, 110
DATA 24, 109
DATA 25, 108
DATA 26, 107
DATA 27, 106
DATA 28, 96
DATA 29, 96
DATA 30, 95
DATA -1, -1
REM Image 18
DATA 19, 140
DATA 20, 141
DATA 21, 142
DATA 22, 143
DATA 23, 144
DATA 24, 145
DATA 25, 146
DATA 26, 147
DATA 27, 148
DATA 28, 22
DATA 29, 22
DATA 30, 23
DATA -1, -1
REM Image 19
DATA 17, 124
DATA 18, 149
DATA 19, 150
DATA 20, 151
DATA 21, 152
DATA 22, 153
DATA 23, 17
DATA 24, 18
DATA 25, 19
DATA 26, 154
DATA 27, 21
DATA -1, -1
REM Image 20
DATA 16, 155
DATA 17, 12
DATA 18, 12
DATA 19, 13
DATA 20, 14
DATA 21, 15
DATA 22, 16
DATA -1, -1
REM Image 21
DATA 9, 156
DATA 10, 157
DATA 11, 158
DATA 12, 159
DATA 13, 160
DATA 14, 161
DATA 15, 12
DATA 16, 12
DATA -1, -1
REM Image 22
DATA 4, 162
DATA 5, 163
DATA 6, 164
DATA 7, 165
DATA 8, 166
DATA 9, 167
DATA 10, 168
DATA 11, 169
DATA 12, 170
DATA 13, 12
DATA 14, 12
DATA -1, -1
REM Image 23
DATA 1, 23
DATA 2, 22
DATA 3, 22
DATA 4, 21
DATA 5, 154
DATA 6, 19
DATA 7, 18
DATA 8, 17
DATA 9, 16
DATA 10, 15
DATA 11, 14
DATA 12, 13
DATA -1, -1
:
DIM worddata% 10
DIM pointerdata% 4 * wordsperrow% * height%
worddata%?0 = 0:REM Define pointer shape
worddata%?1 = 1:REM Shape number
worddata%?2 = (width%*2+7)/8:REM Width in bytes
worddata%?3 = height%:REM Height in rows
worddata%?4 = active_x%
worddata%?5 = active_y%
worddata%!6 = pointerdata%
:
RESTORE + 1
FOR col% = 0 TO 3
 READ colr%,colg%,colb%
 VDU 19, col%, 25, colr%, colg%, colb%
NEXT
DATA 192, 192, 192
DATA 143, 166, 189
DATA 0, 0, 0
DATA 71, 190, 238
:
SYS "OS_Byte", 106, 1
:
framenum%=0
WHILE TRUE
 frame_deltas% = deltas% + framedata%!(framenum% * 4)
 PRINT "Frame ";framenum%
 REPEAT
  rownumber%=frame_deltas%!0:frame_deltas%+=4
  rowindex%=frame_deltas%!0:frame_deltas%+=4
  IF rownumber% <> -1 THEN
   FORoffset%=0TOwordsperrow%*4-4 STEP 4
    pointerdata%!(rownumber% * 4 * wordsperrow% + offset%) = rowdata%!(4 * wordsperrow% * rowindex% + offset%)
   NEXT
  ENDIF
 UNTIL rownumber%=-1
 SYS "OS_Word",21, worddata%
 framenum% = (framenum% + 1) MOD nframes%
  I=INKEY(period%)
ENDWHILE
