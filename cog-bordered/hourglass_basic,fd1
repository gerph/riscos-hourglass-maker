ON ERROR ERROR EXT ERR, REPORT$+" at line "+STR$ERL
:
COLOUR 128+7:CLS:COLOUR0
:
width% = 32
height% = 24
active_x% = 16
active_y% = 12
period% = 3
wordsperrow% = 2
nwords% = 338
DIM rowdata% 4 * nwords%
RESTORE +1
DATA &f0000000, &00000003
DATA &5c000000, &0000000d
DATA &5c0c0000, &00003035
DATA &5c370000, &0000df35
DATA &5fd5c000, &000355f5
DATA &55557000, &00035555
DATA &5555c000, &00035555
DATA &d5570000, &0000d557
DATA &3d570000, &0000d57c
DATA &0357fc00, &003fd5c0
DATA &03555700, &00d555c0
DATA &00d55700, &00d555c0
DATA &03555c00, &003555c0
DATA &0357f000, &000fd570
DATA &fd570000, &0000d55f
DATA &5555c000, &0000d555
DATA &55557000, &000d5555
DATA &5fd5c000, &000357f5
DATA &5c3f0000, &0000dc35
DATA &5c000000, &00003035
DATA &c0000000, &0000000f
DATA &70000000, &00000035
DATA &703c0000, &000000d5
DATA &70d70000, &0000f0d5
DATA &5f55c000, &00035fd5
DATA &5555c000, &000d5555
DATA &55570000, &000d5555
DATA &d5570000, &00035557
DATA &3d57fc00, &0000d57c
DATA &03555700, &0000d5c0
DATA &03555700, &003f55c0
DATA &0355fc00, &00d555c0
DATA &0f570000, &003d5570
DATA &f555c000, &0003d57f
DATA &55557000, &0000d555
DATA &55d57000, &00035555
DATA &5735c000, &000355f5
DATA &570f0000, &0000d70d
DATA &57000000, &00003c0d
DATA &5c000000, &00000003
DATA &f0000000, &00000000
DATA &00000000, &0000003f
DATA &c0300000, &000000d5
DATA &c0dc0000, &000000d5
DATA &7f570000, &000000d5
DATA &55570000, &0003fcd5
DATA &55570000, &000d5755
DATA &555c0000, &00355555
DATA &555ff000, &000d5557
DATA &fd555c00, &0003557c
DATA &03555700, &0003d5c0
DATA &00d55700, &003d55c0
DATA &03570000, &00d555c0
DATA &0f55c000, &00d55570
DATA &f5557000, &003fd57f
DATA &55555c00, &00003555
DATA &55f57000, &0000d555
DATA &55cfc000, &0000d57d
DATA &57000000, &0000d5c3
DATA &57000000, &00003f03
DATA &57000000, &00000003
DATA &fc000000, &00000000
DATA &00000000, &000000fc
DATA &00f00000, &00000357
DATA &035c0000, &00000357
DATA &fd570000, &00000355
DATA &555c0000, &0003c355
DATA &555c0000, &000d7f55
DATA &555ffc00, &00355557
DATA &fd555700, &000d557c
DATA &03555700, &000355c0
DATA &03557c00, &000355c0
DATA &0355c000, &003d55c0
DATA &0355c000, &00d555c0
DATA &0f557000, &00d55570
DATA &f5555c00, &0035557f
DATA &55555c00, &000ff555
DATA &55fff000, &00003555
DATA &55c00000, &0000355f
DATA &55c00000, &0000d573
DATA &d5c00000, &00003dc0
DATA &d7000000, &00000300
DATA &3c000000, &00000000
DATA &03000000, &000000f0
DATA &0df00000, &0000035c
DATA &355c0000, &00000d57
DATA &f55c0000, &00000d57
DATA &555c0000, &00000d55
DATA &55700000, &000fcd55
DATA &557ff000, &00357d55
DATA &55555c00, &00355555
DATA &fd555700, &0035557f
DATA &03555700, &000d55c0
DATA &0355c000, &0000d5c0
DATA &0355c000, &000f55c0
DATA &0355f000, &003555c0
DATA &0f555c00, &00d55570
DATA &f5555700, &0035555f
DATA &557f5c00, &000ffd55
DATA &5570f000, &00000d55
DATA &55700000, &00003557
DATA &d5700000, &0000355c
DATA &35700000, &00000d70
DATA &0fc00000, &000003c0
DATA &00000000, &00000000
DATA &0f000000, &000000c0
DATA &35c00000, &00000f70
DATA &35700000, &0000355c
DATA &d5700000, &0000355f
DATA &55700000, &00000d55
DATA &5573f000, &00000d55
DATA &557d5c00, &000ffd55
DATA &fd555c00, &00d5557f
DATA &03557000, &00d555c0
DATA &0355c000, &000355c0
DATA &0355f000, &000355c0
DATA &03555c00, &000f55c0
DATA &0d555700, &00355570
DATA &fd555700, &0035555f
DATA &557ff000, &000dfd55
DATA &55700000, &00030d55
DATA &d55c0000, &00000d55
DATA &0d5c0000, &00000d5c
DATA &03f00000, &000003dc
DATA &00000000, &00000030
DATA &3f000000, &00000000
DATA &d5c00000, &00000fc0
DATA &d5c00000, &00003570
DATA &55c00000, &0000d55f
DATA &55c0c000, &00003555
DATA &55ff7000, &00003555
DATA &d5555c00, &003ff555
DATA &3d557000, &00d5557f
DATA &0355f000, &003d55c0
DATA &03555c00, &000355c0
DATA &0d555700, &000f55f0
DATA &555ffc00, &00355555
DATA &555c0000, &000fff55
DATA &755c0000, &00000355
DATA &cd570000, &00000355
DATA &00f00000, &000000d7
DATA &00000000, &0000003c
DATA &57000000, &00000c03
DATA &57000000, &000037c3
DATA &57000000, &0000d57d
DATA &570fc000, &0000d555
DATA &d5557000, &000ff555
DATA &3d55c000, &0035557f
DATA &0357c000, &00d555c0
DATA &03557c00, &00d555c0
DATA &0d555700, &000355f0
DATA &fd57fc00, &0003555f
DATA &555c0000, &000d5555
DATA &55570000, &000d5f55
DATA &7d570000, &0003f0d5
DATA &73570000, &000000d5
DATA &c0fc0000, &000000d5
DATA &c0000000, &000000d5
DATA &570f0000, &0000d7cd
DATA &57f5c000, &00035575
DATA &d555c000, &0000d557
DATA &3d570000, &003fd57c
DATA &03555700, &003555c0
DATA &03555700, &000f55c0
DATA &0d557c00, &0000d5f0
DATA &fd57c000, &0003555f
DATA &55570000, &00035555
DATA &5555c000, &000d5755
DATA &5f55c000, &00035cd5
FOR n% = 0 TO nwords%-1
  READ word%:rowdata%!(4 * n%) = word%
NEXT
:
nframes% = 9
DIM framedata% 8 * nframes%
:
DIM deltas% 8*213

deltaoffset% = 0
RESTORE +1
FOR frame% = 0 TO nframes%-1
 framedata%!(frame% * 4) = deltaoffset%
 REPEAT
  READ rownumber%, rowindex%
  deltas%!(deltaoffset%) = rownumber%
  deltas%!(deltaoffset%+4) = rowindex%
  deltaoffset% += 8
 UNTIL rownumber% = -1
NEXT
:
REM Image 0
DATA 0, 0
DATA 1, 1
DATA 2, 2
DATA 3, 3
DATA 4, 4
DATA 5, 5
DATA 6, 6
DATA 7, 7
DATA 8, 8
DATA 9, 9
DATA 10, 10
DATA 11, 11
DATA 12, 10
DATA 13, 12
DATA 14, 13
DATA 15, 14
DATA 16, 15
DATA 17, 6
DATA 18, 16
DATA 19, 17
DATA 20, 18
DATA 21, 19
DATA 22, 1
DATA 23, 0
DATA -1, -1
REM Image 1
DATA 0, 20
DATA 1, 21
DATA 2, 22
DATA 3, 23
DATA 4, 24
DATA 5, 25
DATA 6, 26
DATA 7, 27
DATA 8, 28
DATA 9, 29
DATA 10, 30
DATA 13, 31
DATA 14, 32
DATA 15, 33
DATA 17, 34
DATA 18, 35
DATA 19, 36
DATA 20, 37
DATA 21, 38
DATA 22, 39
DATA 23, 40
DATA -1, -1
REM Image 2
DATA 0, 41
DATA 1, 42
DATA 2, 43
DATA 3, 44
DATA 4, 45
DATA 5, 46
DATA 6, 47
DATA 7, 48
DATA 8, 49
DATA 10, 50
DATA 11, 51
DATA 12, 31
DATA 13, 52
DATA 14, 53
DATA 15, 54
DATA 16, 55
DATA 17, 55
DATA 18, 56
DATA 19, 57
DATA 20, 58
DATA 21, 59
DATA 22, 60
DATA 23, 61
DATA -1, -1
REM Image 3
DATA 0, 62
DATA 1, 63
DATA 2, 64
DATA 3, 65
DATA 4, 66
DATA 5, 67
DATA 7, 68
DATA 8, 69
DATA 9, 70
DATA 10, 29
DATA 11, 71
DATA 12, 72
DATA 13, 73
DATA 14, 74
DATA 15, 75
DATA 16, 76
DATA 18, 77
DATA 19, 78
DATA 20, 79
DATA 21, 80
DATA 22, 81
DATA 23, 82
DATA -1, -1
REM Image 4
DATA 0, 83
DATA 1, 84
DATA 2, 85
DATA 3, 86
DATA 4, 87
DATA 5, 88
DATA 6, 89
DATA 7, 90
DATA 8, 91
DATA 9, 92
DATA 10, 71
DATA 11, 93
DATA 12, 94
DATA 13, 95
DATA 14, 96
DATA 15, 97
DATA 16, 90
DATA 17, 98
DATA 18, 99
DATA 19, 100
DATA 20, 101
DATA 21, 102
DATA 22, 103
DATA 23, 104
DATA -1, -1
REM Image 5
DATA 0, 105
DATA 1, 106
DATA 2, 107
DATA 3, 108
DATA 4, 109
DATA 5, 110
DATA 6, 111
DATA 8, 112
DATA 9, 113
DATA 10, 72
DATA 11, 114
DATA 12, 115
DATA 13, 116
DATA 14, 117
DATA 15, 118
DATA 17, 119
DATA 18, 120
DATA 19, 121
DATA 20, 85
DATA 21, 122
DATA 22, 123
DATA 23, 124
DATA -1, -1
REM Image 6
DATA 0, 125
DATA 1, 126
DATA 2, 127
DATA 3, 128
DATA 4, 129
DATA 5, 130
DATA 6, 55
DATA 7, 131
DATA 8, 132
DATA 9, 73
DATA 10, 52
DATA 11, 133
DATA 12, 134
DATA 13, 70
DATA 14, 135
DATA 16, 136
DATA 17, 47
DATA 18, 137
DATA 19, 138
DATA 20, 139
DATA 21, 64
DATA 22, 140
DATA 23, 141
DATA -1, -1
REM Image 7
DATA 0, 61
DATA 1, 142
DATA 2, 143
DATA 3, 144
DATA 4, 145
DATA 5, 56
DATA 7, 146
DATA 8, 147
DATA 9, 52
DATA 10, 148
DATA 11, 149
DATA 12, 30
DATA 13, 29
DATA 14, 150
DATA 15, 151
DATA 16, 152
DATA 18, 153
DATA 19, 154
DATA 20, 155
DATA 21, 156
DATA 22, 157
DATA 23, 41
DATA -1, -1
REM Image 8
DATA 0, 0
DATA 1, 1
DATA 2, 38
DATA 3, 158
DATA 4, 159
DATA 5, 5
DATA 6, 34
DATA 7, 160
DATA 8, 161
DATA 10, 31
DATA 11, 10
DATA 12, 162
DATA 13, 163
DATA 14, 164
DATA 15, 165
DATA 16, 166
DATA 17, 26
DATA 18, 167
DATA 19, 168
DATA 20, 23
DATA 21, 22
DATA 22, 21
DATA 23, 20
DATA -1, -1
:
DIM worddata% 10
DIM pointerdata% 4 * wordsperrow% * height%
worddata%?0 = 0:REM Define pointer shape
worddata%?1 = 1:REM Shape number
worddata%?2 = (width%*2+7)/8:REM Width in bytes
worddata%?3 = height%:REM Height in rows
worddata%?4 = active_x%
worddata%?5 = active_y%
worddata%!6 = pointerdata%
:
RESTORE + 1
FOR col% = 0 TO 3
 READ colr%,colg%,colb%
 VDU 19, col%, 25, colr%, colg%, colb%
NEXT
DATA 192, 192, 192
DATA 0, 153, 14
DATA 192, 192, 192
DATA 0, 0, 0
:
SYS "OS_Byte", 106, 1
:
framenum%=0
WHILE TRUE
 frame_deltas% = deltas% + framedata%!(framenum% * 4)
 PRINT "Frame ";framenum%
 REPEAT
  rownumber%=frame_deltas%!0:frame_deltas%+=4
  rowindex%=frame_deltas%!0:frame_deltas%+=4
  IF rownumber% <> -1 THEN
   FORoffset%=0TOwordsperrow%*4-4 STEP 4
    pointerdata%!(rownumber% * 4 * wordsperrow% + offset%) = rowdata%!(4 * wordsperrow% * rowindex% + offset%)
   NEXT
  ENDIF
 UNTIL rownumber%=-1
 SYS "OS_Word",21, worddata%
 framenum% = (framenum% + 1) MOD nframes%
  I=INKEY(period%)
ENDWHILE
